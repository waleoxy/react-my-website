{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\personal\\\\my-react-prg\\\\my-website\\\\src\\\\context\\\\context.js\";\nimport React, { Component } from 'react';\nimport { linkData } from \"./linkData\";\nimport { socialData } from \"./socialData\";\nimport { items } from \"./productData\";\nconst ProductContext = React.createContext();\n\nclass ProductProvider extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      sidebarOpen: false,\n      links: linkData,\n      socialLinks: socialData,\n      savedWorks: [],\n      featuredWorks: [],\n      filteredWorks: [],\n      singleWork: {},\n      loading: true\n    };\n\n    this.setWorks = products => {\n      let savedWorks = products.map(item => {\n        const {\n          id\n        } = item.sys;\n        const image = item.fields.image.fields.file.url;\n        const product = {\n          id,\n          ...item.fields,\n          image\n        };\n        return product;\n      });\n      let featuredWorks = savedWorks.filter(item => item.featured === true);\n      this.setState({\n        savedWorks,\n        filteredWorks: savedWorks,\n        featuredWorks,\n        singleWork: this.getSingleWork()\n      });\n    };\n\n    this.getSingleWork = () => {\n      return localStorage.getItem(\"singleWork\") ? JSON.parse(localStorage.getItem(\"singleWork\")) : {};\n    };\n\n    this.setSingleWork = id => {\n      let work = this.state.savedWorks.find(item => item.id === id);\n      localStorage.setItem(\"singleWork\", JSON.stringify(work));\n      this.setState({\n        singleWork: { ...work\n        },\n        loading: false\n      });\n    };\n\n    this.handleSidebar = () => {\n      this.setState({\n        sidebarOpen: !this.state.sidebarOpen\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.setWorks(items);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(ProductContext.Provider, {\n      value: { ...this.state,\n        handleSidebar: this.handleSidebar,\n        setSingleWork: this.setSingleWork\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }, this.props.children);\n  }\n\n}\n\nconst ProductConsumer = ProductContext.Consumer;\nexport { ProductProvider, ProductConsumer };","map":{"version":3,"sources":["C:/Users/personal/my-react-prg/my-website/src/context/context.js"],"names":["React","Component","linkData","socialData","items","ProductContext","createContext","ProductProvider","state","sidebarOpen","links","socialLinks","savedWorks","featuredWorks","filteredWorks","singleWork","loading","setWorks","products","map","item","id","sys","image","fields","file","url","product","filter","featured","setState","getSingleWork","localStorage","getItem","JSON","parse","setSingleWork","work","find","setItem","stringify","handleSidebar","componentDidMount","render","props","children","ProductConsumer","Consumer"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {linkData} from \"./linkData\";\r\nimport {socialData} from \"./socialData\"; \r\nimport {items} from \"./productData\";\r\n\r\nconst ProductContext = React.createContext();\r\n\r\nclass ProductProvider extends Component{\r\n    \r\n    state = {\r\n        sidebarOpen: false,\r\n        links: linkData,\r\n        socialLinks: socialData,\r\n        savedWorks: [],\r\n        featuredWorks: [],\r\n        filteredWorks: [],\r\n        singleWork: {},\r\n        loading: true\r\n    };\r\n    \r\n    componentDidMount(){\r\n\r\n\r\n        this.setWorks(items);\r\n    }\r\n    setWorks = (products) =>{\r\n        let savedWorks = products.map(item =>{\r\n            const {id} = item.sys;\r\n            const image = item.fields.image.fields.file.url;\r\n            const product = {id,...item.fields, image};\r\n            return product\r\n        });\r\n        let featuredWorks = savedWorks.filter(item =>item.featured===true)\r\n        this.setState({\r\n           savedWorks,\r\n           filteredWorks: savedWorks,\r\n           featuredWorks,\r\n           singleWork: this.getSingleWork()\r\n        })\r\n    }\r\n\r\n    getSingleWork = () =>{\r\n        return localStorage.getItem(\"singleWork\") ? JSON.parse(localStorage.getItem(\"singleWork\")) : {};\r\n    };\r\n    setSingleWork = (id) =>{\r\n       let work = this.state.savedWorks.find(item => item.id === id);\r\n       localStorage.setItem(\"singleWork\", JSON.stringify(work));\r\n       this.setState({\r\n           singleWork: {...work},\r\n           loading: false \r\n       });\r\n    };\r\n    handleSidebar = ()=>{\r\n        this.setState({sidebarOpen: !this.state.sidebarOpen});    \r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <ProductContext.Provider \r\n              value = {{\r\n                ...this.state,\r\n                handleSidebar: this.handleSidebar,\r\n                setSingleWork: this.setSingleWork\r\n            }}\r\n            >\r\n             {this.props.children}\r\n            </ProductContext.Provider>\r\n            );\r\n        }\r\n}\r\n\r\nconst ProductConsumer = ProductContext.Consumer;\r\n\r\nexport{ProductProvider, ProductConsumer}; "]},"metadata":{},"sourceType":"module"}